University: [ITMO University](https://itmo.ru/ru/)
Faculty: [FICT](https://fict.itmo.ru)
Course: [Introduction to distributed technologies](https://github.com/itmo-ict-faculty/introduction-to-distributed-technologies)
Year: 2023/2024
Group: K4112c
Author: Migulaeva Tatyana Alekseevna
Lab: Lab3
Date of create: 23.09.2023
Date of finished: 

1. Создаём ConfigMap со значениями переменных.
   
2. Создаём ReplicaSet, в который передаём указанные переменные.

3. Создаём tls секрет, в который прописываем созданные приватный и публичный ключ. Вообще, секреты в коде это некрасиво, и по идее нужно использовать, например, external secrets operator и подтягивать секреты из того же волта, развёрнутого в первой работе. Но в рамках учебной работы, где основную сложность представляет скорее настройка ингресса, сочтём за допустимую вольность.
   
4. Создаём сервис для приложения.

5. Создаём ингресс. В него подтягиваем ключи из секрета, созданного ранее, а также указываем путь, по которому будет доступно наше приложение.
   
6. Деплоим всё вышеуказанное.

7. Далее достаточно запустить minikube addons enable ingress, а также minikube tunnel. После этого всё должно работать, но там произошёл подвох - во всей документации сказано, что в hosts надо указывать ip миникуба, однадо это верно только для Линукс. Для MacOS и Windows нужно указывать локалхост.
   
8. Переходим в браузер, всё открывается.

9. Сертификат.